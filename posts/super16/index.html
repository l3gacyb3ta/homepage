<!doctype html><html lang=en><head><link rel=preconnect href=https://www.googletagmanager.com><link crossorigin rel=preconnect href=https://www.google-analytics.com><meta charset=utf-8><title>Super16, a silly ISA</title><meta name=description content="Super16&mldr; What is it?
Super16 is my custom architecture for a theoretical CPU. It&rsquo;s on github!
I have designed the thing from the ground …"><link rel="shortcut icon" type=image/png href=/res/logo.png><meta name=viewport content="width=device-width,initial-scale=1"><link href="https://fonts.googleapis.com/css2?family=Inter:wght@700&family=Source+Sans+Pro:wght@400;600&family=Fira+Code:wght@400;700&display=swap" rel=stylesheet><style>:root{--light:#faf0f0;--dark:#1d1731;--navy:#29516b;--olive:#8cb6ab;--visited:#b1c9d8;--salmon:#dd7170;--gray:#4e4c4c;--lightgray:#f0f0f0;--outlinegray:#dadada;--lt-colours-light:var(--light) !important;--lt-colours-lightgray:var(--lightgray) !important;--lt-colours-dark:var(--navy) !important;--lt-colours-secondary:var(--olive) !important;--lt-colours-gray:var(--outlinegray) !important;--invert-filter:invert(0) hue-rotate(0)}h1,h2,h3,h4,ol,ul,thead{font-family:Inter;color:var(--dark)}p,ul{font-family:source sans pro,sans-serif;color:var(--gray)}pre{font-family:fira code;padding:.75em;border-radius:3px;overflow-x:scroll}code{font-family:fira code;font-size:.85em;padding:.15em .3em;border-radius:5px;background:var(--lightgray)}[saved-theme=dark]{--light:#1e1e21 !important;--dark:#fbfffe !important;--navy:#75a1bf !important;--visited:#4a575e !important;--olive:#84a59d !important;--salmon:#f58382 !important;--gray:#d4d4d4 !important;--lightgray:#292633 !important;--outlinegray:#343434 !important;--invert-filter:invert(97%) hue-rotate(190deg) grayscale(0.4) contrast(90%) brightness(1.2) !important}html{scroll-behavior:smooth}body{margin:0;height:100vh;width:100vw;overflow-x:hidden;background-color:var(--light)}.hover{color:var(--dark);text-decoration:none;opacity:.6;z-index:1;transition:200ms}.hover::after{transition:200ms;height:18px;content:"";position:absolute;background-color:var(--olive);opacity:.5;z-index:-1;width:0%;right:5px;bottom:5px}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}footer{margin-top:4em}footer>a{font-family:inter;font-weight:700;font-size:1em;color:var(--navy);padding:0 .5em 3em}#newsletter{margin:2em 0}#newsletter>input{padding:.7em 1em;border-radius:4px}#newsletter>input[type=submit]{border:none;color:var(--light);background-color:var(--navy);cursor:pointer}#newsletter>input[type=email]{background-color:var(--light);border:1px solid var(--outlinegray);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box}hr{width:25%;margin:4em auto;height:2px;border-radius:1px;border-width:0;color:var(--dark);background-color:var(--dark)}a[href^="/thoughts"],a[href^="/books"],a[href^="/classes"]{text-decoration:none;background-color:#afbfc955;padding:0 .2em;border-radius:3px}</style><style>#TableOfContents>ol{counter-reset:section;margin-left:0;padding-left:1.5em}#TableOfContents>ol>li{counter-increment:section}#TableOfContents>ol>li>ol{counter-reset:subsection}#TableOfContents>ol>li>ol>li{counter-increment:subsection}#TableOfContents>ol>li>ol>li::marker{content:counter(section)"." counter(subsection)"  "}#TableOfContents>ol>li::marker{content:counter(section)"  "}#TableOfContents>ol>li::marker,#TableOfContents>ol>li>ol>li::marker{font-family:Source Sans Pro;font-weight:700}.postLi{margin-bottom:1em}.postLi>.time{margin:0;margin-bottom:-1em!important;font-family:fira code;font-weight:400;font-size:.5em}.singlePost{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.singlePost *{margin:.1em auto}.singlePost>.desc{flex:1}.singlePost>.desc>*{display:inline-block}header,#postTitle{display:flex;flex-direction:row;align-items:center;justify-content:space-between}nav>a{margin-left:2em}#postTitle h1{margin-right:2em}footer{margin-top:4em;text-align:center}.meta{margin-left:2em!important}#contentWrapper{margin:25px 30vw}@media all and (max-width:1200px){#contentWrapper{margin:25px 5vw}}@media all and (max-width:600px){header>nav{display:none}#postTitle{flex-direction:column;align-items:flex-start}}table{width:100%}img{width:100%;border-radius:3px;margin:1em 0}p>img+em{display:block;transform:translateY(-1em)}sup{line-height:0}.morePosts{min-height:3em}.postLink{display:inline-block}.postLink.next{float:right}</style><style>a{font-family:Inter;font-weight:700;text-decoration:none;transition:all .2s ease;color:var(--navy)}a:hover{color:var(--olive)!important}.postLink:visited{color:var(--visited)}#posts{list-style:none;padding:0;margin:0}p,tbody,li{font-family:Source Sans Pro;color:var(--gray);line-height:1.5em}input{font-family:Source Sans Pro;color:var(--gray)}h2{opacity:.85}h3{opacity:.75}blockquote{margin-left:0;border-left:3px solid var(--navy);padding-left:1em}table{padding:1.5em}td,th{padding:.1em .5em}.footnotes p{margin:.5em 0}article a{font-family:Source Sans Pro;font-weight:600;text-decoration:underline;text-decoration-color:var(--olive);text-decoration-thickness:.15em}</style><style>.chroma{color:#f8f8f2;background-color:#282a36}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block}.chroma .hl{display:block;width:100%;background-color:#ffc}.chroma .lnt{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .ln{margin-right:.4em;padding:0 .4em;color:#7f7f7f}.chroma .k{color:#ff79c6}.chroma .kc{color:#ff79c6}.chroma .kd{color:#8be9fd;font-style:italic}.chroma .kn{color:#ff79c6}.chroma .kp{color:#ff79c6}.chroma .kr{color:#ff79c6}.chroma .kt{color:#8be9fd}.chroma .na{color:#50fa7b}.chroma .nb{color:#8be9fd;font-style:italic}.chroma .nc{color:#50fa7b}.chroma .nf{color:#50fa7b}.chroma .nl{color:#8be9fd;font-style:italic}.chroma .nt{color:#ff79c6}.chroma .nv{color:#8be9fd;font-style:italic}.chroma .vc{color:#8be9fd;font-style:italic}.chroma .vg{color:#8be9fd;font-style:italic}.chroma .vi{color:#8be9fd;font-style:italic}.chroma .s{color:#f1fa8c}.chroma .sa{color:#f1fa8c}.chroma .sb{color:#f1fa8c}.chroma .sc{color:#f1fa8c}.chroma .dl{color:#f1fa8c}.chroma .sd{color:#f1fa8c}.chroma .s2{color:#f1fa8c}.chroma .se{color:#f1fa8c}.chroma .sh{color:#f1fa8c}.chroma .si{color:#f1fa8c}.chroma .sx{color:#f1fa8c}.chroma .sr{color:#f1fa8c}.chroma .s1{color:#f1fa8c}.chroma .ss{color:#f1fa8c}.chroma .m{color:#bd93f9}.chroma .mb{color:#bd93f9}.chroma .mf{color:#bd93f9}.chroma .mh{color:#bd93f9}.chroma .mi{color:#bd93f9}.chroma .il{color:#bd93f9}.chroma .mo{color:#bd93f9}.chroma .o{color:#ff79c6}.chroma .ow{color:#ff79c6}.chroma .c{color:#6272a4}.chroma .ch{color:#6272a4}.chroma .cm{color:#6272a4}.chroma .c1{color:#6272a4}.chroma .cs{color:#6272a4}.chroma .cp{color:#ff79c6}.chroma .cpf{color:#ff79c6}.chroma .gd{color:#8b080b}.chroma .ge{text-decoration:underline}.chroma .gh{font-weight:700}.chroma .gi{font-weight:700}.chroma .go{color:#44475a}.chroma .gu{font-weight:700}.chroma .gl{text-decoration:underline}.lntd:first-of-type>.chroma{padding-right:0}.chroma code{font-family:fira code!important;font-size:.85em;line-height:1em;background:0 0;padding:0}.chroma{border-radius:3px;margin:0}</style><style>.darkmode{text-align:right}.darkmode>.toggle{display:none;box-sizing:border-box}.darkmode>.toggle:checked+.toggle-button:after{left:50%}.darkmode>.toggle+.toggle-button{box-sizing:border-box;outline:0;display:inline-block;width:3em;height:1.5em;position:relative;cursor:pointer;border:2px solid var(--gray);user-select:none;padding:2px;transition:all .2s ease;border-radius:2em}.darkmode>.toggle+.toggle-button:after,.darkmode>.toggle+.toggle-button:before{position:relative;display:block;box-sizing:border-box;content:"";width:50%;height:100%}.darkmode>.toggle+.toggle-button:before{display:none}.darkmode>.toggle+.toggle-button:after{left:0;transition:all .2s ease;background:var(--gray);content:"";border-radius:1em}.darkmode #dayIcon{position:relative;width:20px;height:20px;top:-1.5px;margin:0 7px;fill:var(--gray)}.darkmode #nightIcon{position:relative;width:18px;height:18px;top:-2px;margin:0 7px;fill:var(--gray)}</style></head><body><div id=contentWrapper><header><h1><a href=/posts>raleighwi.se</a></h1><div class=darkmode><label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label class=toggle-button for=darkmode-toggle></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><div id=postTitle class=desc><h1>Super16, a silly ISA</h1><p>written May 13, 2021 // 4 min read</p></div><aside class=mainTOC><h3>Table of Contents</h3><nav id=TableOfContents><ol><li><a href=#features>Features:</a></li><li><a href=#missing-stuff>Missing stuff:</a></li><li><a href=#basic-design>Basic design:</a></li><li><a href=#implementing-it>Implementing it:</a></li><li><a href=#example-programs>Example programs:</a></li><li><a href=#binaries>Binaries:</a></li></ol></nav></aside><div id=mainText><h1 id=super16-what-is-it>Super16&mldr; What is it?</h1><p>Super16 is my custom architecture for a theoretical CPU. It&rsquo;s on <a href=https://github.com/l3gacyb3ta/super16>github</a>!
I have designed the thing from the ground up, so here&rsquo;s an overview:</p><h2 id=features>Features:</h2><ul><li>Text-out support</li><li>7 16-bit registers</li><li>Binary compilation</li><li>16-bit data on every instruction</li><li>Built-in screen drawing (pixel by pixel)</li></ul><h2 id=missing-stuff>Missing stuff:</h2><ul><li>Any support for memory, I mean who needs that?</li></ul><h2 id=basic-design>Basic design:</h2><p>One instruction is composed of 32 bits, making up 3 catagories; Opcode, Register and data.
The opcode is two hexadecimal digits, the register is another two, and the data is a 4-digit
hexadecimal numbers split into two two-digit numbers.
Here is an example instruction loading <code>0xf988</code> into <code>r5</code>:</p><table><thead><tr><th>Opcode</th><th>Register</th><th>Data 1</th><th>Data 2</th></tr></thead><tbody><tr><td>0x20</td><td>0x05</td><td>0xf9</td><td>0x88</td></tr></tbody></table><p>There are a <em>ton</em> of opcodes/instructions, (but not as may as x86) 19 to be precise.
Here&rsquo;s a table of all the current instructions:</p><table><thead><tr><th>Opcode</th><th>Instruction</th><th></th></tr></thead><tbody><tr><td>0x10</td><td>store</td><td>store reg reg2</td></tr><tr><td></td><td></td><td>Copy value from one reg to another</td></tr><tr><td>0x20</td><td>load</td><td>load reg val</td></tr><tr><td></td><td></td><td>Load a value into a reg</td></tr><tr><td>0x30</td><td>add</td><td>add reg val</td></tr><tr><td></td><td></td><td>Add value to reg</td></tr><tr><td>0x31</td><td>addr</td><td>addr reg reg2</td></tr><tr><td></td><td></td><td>Adds reg2 to reg</td></tr><tr><td>0x40</td><td>sub</td><td>sub reg val</td></tr><tr><td></td><td></td><td>Subtracts val from reg</td></tr><tr><td>0x41</td><td>subr</td><td>subr reg reg2</td></tr><tr><td></td><td></td><td>Subtracts reg2 from reg</td></tr><tr><td>0x50</td><td>mul</td><td>mul reg val</td></tr><tr><td></td><td></td><td>Multipy register by value</td></tr><tr><td>0x51</td><td>mulr</td><td>mul reg reg2</td></tr><tr><td></td><td></td><td>Multiply reg by reg 2</td></tr><tr><td>0x60</td><td>div</td><td>div reg val</td></tr><tr><td></td><td></td><td>Intiger divides the register by the value</td></tr><tr><td>0x61</td><td>divr</td><td>div reg reg2</td></tr><tr><td></td><td></td><td>Initger devides reg by rg2</td></tr><tr><td>0xff</td><td>prt</td><td>prt 0x0000 0x0000</td></tr><tr><td></td><td></td><td>Print ascii value in p0 reg</td></tr><tr><td>0x0f</td><td>scrn</td><td>scrn 0x0000 val</td></tr><tr><td></td><td></td><td>Set pixel in x8 and y9 regs to the value (0: black) (1: white)</td></tr><tr><td>0xdd</td><td>drw</td><td>drw 0x0000 0x0000</td></tr><tr><td></td><td></td><td>Draw screen buffer</td></tr><tr><td>0xf0</td><td>cmp</td><td>cmp reg reg2</td></tr><tr><td></td><td></td><td>Set cm reg to 0x0001 if bigger, 0x0000 if smaller, and 0xffff if their equal</td></tr><tr><td>0xb0</td><td>branch</td><td>branch val label</td></tr><tr><td></td><td></td><td>Branch to loop if cm is val</td></tr><tr><td>0xb1</td><td>nbranch</td><td>nbranch val label</td></tr><tr><td></td><td></td><td>Branch to loop if cm is not val</td></tr><tr><td>0xbb</td><td>jump</td><td>jump 0x0000 label</td></tr><tr><td></td><td></td><td>Jump to label</td></tr><tr><td>0x00</td><td>noop</td><td>noop 0x000 0x000</td></tr><tr><td></td><td></td><td>Literally does nothing</td></tr><tr><td>0xfe</td><td>halt</td><td>halt 0x0000 0x0000</td></tr><tr><td></td><td></td><td>Halts the cpu</td></tr></tbody></table><p>As you can see, I&rsquo;ve spent <em>way</em> to much time on this.</p><h2 id=implementing-it>Implementing it:</h2><p>As I have not yet learned how to build an actual sim in logisim or similar software (so many sim-s!), I have implemented this ISA in python.
After running <code>assembler.py</code> with a valid asembly file as an argument,
a pickle file named rom.pic will appear.
In order to run it, simply execute <code>cpu.py</code> for normal use, and <code>slowpu.py</code> for debugging.<br>This will give you an accurate emulation of the cpu using any assembly you want.</p><h2 id=example-programs>Example programs:</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback># Do some math:

load r1 0x0002
load r2 0x0002
mulr r1 r2
</code></pre></td></tr></table></div></div><p>This is a simple little program that, 1st, loads 2 into <code>r1</code> and <code>r2</code>, and 2nd, multiplies <code>r1</code> by <code>r2</code>.
As you know, there are more interesting things you can do with programming. So here we gooooo!</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback># setup r2 and r2
load r2 0x0005
load r1 0x0001
# setup h
load p1 0x0068
.top
# Print h
prt 0x0000 0x0000
# Increment r1
add r1 0x0001
# compare and branch
cmp r1 r2
nbranch 0x0001 top
#
# if it&#39;s done, write an g
load p1 0x0067
prt 0x0000 0x0000
</code></pre></td></tr></table></div></div><p>Wow, that&rsquo;s a lot longer. This bit of code does something really fun.</p><ol><li>It sets up <code>r1</code>, <code>r2</code>, and <code>p0</code> with the right values.
<code>p0</code> is the special register that saves an ascii code and prints it on a <code>prt</code>
instruction.</li><li>We define a label <code>.top</code>, this&rsquo;ll come in help latter! We also print a h for debugging.</li><li>We then increment <code>r1</code> by 1.</li><li>Fun stuff now! We then compare <code>r1</code> and <code>r2</code>. If <code>r1</code> is bigger
than <code>r2</code>, then <code>cm</code> will be <code>0x0001</code>.<br>If that&rsquo;s <em>not</em> true, then we&rsquo;ll jump back to <code>.top</code>, other wise we&rsquo;ll print a g.</li></ol><p>The output then looks like this:<br><code>hhhhhg</code><br>So it worked! Magical branches are cool.</p><h2 id=binaries>Binaries:</h2><p>The last feature I&rsquo;m going to talk about is the building into a binary thing.
Here&rsquo;s the hex representation of the binary for the math program:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>20 01 00 02
20 02 00 02
51 01 00 02
</code></pre></td></tr></table></div></div><p>There we go! We can se the <code>20</code> on the beginging of every line.
That is the opcode for <code>load</code>, and then we see the 2 register names, <code>r1</code> and <code>r2</code>.<br>The last line starts with <code>51</code> which is the opcode for <code>mulr</code>, and then has the numbers for <code>r1</code> and <code>r2</code>.
So we can see that it would work on a theoretical CPU!</p><p>Thanks for reading,</p><p>- L3gacy</p></div><div><hr><div class=morePosts><a class=postLink href="https://raleighwi.se/posts/forestry-a-git-based-cms/?ref=footer">← Forestry, a git-based CMS</a>
<a class="postLink next" href="https://raleighwi.se/posts/xkcd-button/?ref=footer">XKCD Explainer Button →</a></div><article><p>I'm always happy to have follow up conversations or hear your thoughts! Shoot me an email at <a href=mailto:j.zhao2k19@gmail.com>j.zhao2k19@gmail.com</a> or <a href=https://twitter.com/_jzhao>yell at me on Twitter</a>.</p><p>If you like this content and want to keep up to
date with my latest ramblings and whatever else I've found interesting on the web, you should consider subscribing to my
newsletter :) Not convinced yet? Read some <a href=/newsletters>previous issues here</a>!</p><form id=newsletter action=https://buttondown.email/api/emails/embed-subscribe/l3gacy method=post target=popupwindow onsubmit="window.open('https://buttondown.email/l3gacy','popupwindow')" class=embeddable-buttondown-form><input type=email placeholder=name@email.com name=email id=bd-email>
<input type=hidden value=1 name=embed>
<input type=submit value=Subscribe></form></article><a href=/posts>← jump back up the path ladder</a></div></article><footer><footer><p>made by Raleigh Wise.<br><a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>CC by-nc-sa 4.0</a></p><a href=/>home</a>
<a href=/ramblings>ramblings</a><a href=https://github.com/l3gacyb3ta/l3gacyb3ta.github.io>source</a><a href=https://twitter.com/l3gacyb3ta>twitter</a></footer></footer></div><script>const toggleSwitch=document.querySelector('#darkmode-toggle'),userPref=window.matchMedia('(prefers-color-scheme: light)').matches?'light':'dark',currentTheme=localStorage.getItem('theme')??userPref;currentTheme&&(document.documentElement.setAttribute('saved-theme',currentTheme),currentTheme==='dark'&&(toggleSwitch.checked=!0));const switchTheme=a=>{a.target.checked?(document.documentElement.setAttribute('saved-theme','dark'),localStorage.setItem('theme','dark')):(document.documentElement.setAttribute('saved-theme','light'),localStorage.setItem('theme','light'))};toggleSwitch.addEventListener('change',switchTheme,!1)</script></body></html>